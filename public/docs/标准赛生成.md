## 标准赛

标准赛会生成一个5x5的棋盘。在标准赛框架下，符卡等级分为1~5级。

**1）难度生成**

首先生成4-5级卡，保证每行每列（不保证斜线）都有且仅有一张四级或五级卡。

接下来生成1-3级卡。难度设定对数量会有影响。

符卡数量具体为：

| 难度设定 | 1                        | 2                  | 3          | 4    | 5    |
| -------- | ------------------------ | ------------------ | ---------- | ---- | ---- |
| 低       | 12                       | 6                  | 2          | 4    | 1    |
| 中       | 6                        | 8                  | 6          | 4    | 1    |
| 高       | 2                        | 6                  | 12         | 4    | 1    |
| 随机     | X = uniform(2 to 20 - Y) | Y = uniform(6,7,8) | 20 - X - Y | 4    | 1    |

**2）符卡抽取**

难度数组生成完毕后，首先随机生成25张卡。读取符卡表后，首先根据需要的符卡等级查询包含此等级卡的作品，然后这些作品中**随机等概率**选择一个，抽取该作品的一张卡，随后将这张卡移除备选，并记录抽取的符卡的游戏内编号（用于去重，如防止佛石、魔理沙佛石、灵梦佛石出现在同一版面上）。

如果出现有一张卡无备选的情况，那就会生成失败。

**3）EX抽取**

随机抽取五个EX初始位置，每行每列有且仅有一个。随后进行EX替换。

首先从选定的位置开始，根据对应难度进行抽取。如果当前位置没有可选项，就顺延到下一个位置，而如果遍历整个棋盘都没有合适位置，就会生成失败。

EX不会覆盖EX。